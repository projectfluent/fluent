<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Functions</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="guide/css/custom.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="hello.html">Hello, world!</a></li><li class="chapter-item expanded "><a href="text.html">Writing Text</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="placeables.html">Placeables</a></li><li class="chapter-item expanded "><a href="special.html">Special Characters</a></li><li class="chapter-item expanded "><a href="multiline.html">Multiline Text</a></li></ol></li><li class="chapter-item expanded "><a href="variables.html">Variables</a></li><li class="chapter-item expanded "><a href="references.html">Referencing Messages</a></li><li class="chapter-item expanded "><a href="selectors.html">Selectors</a></li><li class="chapter-item expanded "><a href="attributes.html">Attributes</a></li><li class="chapter-item expanded "><a href="terms.html">Terms</a></li><li class="chapter-item expanded "><a href="comments.html">Comments</a></li><li class="chapter-item expanded "><a href="builtins.html">Built-in Functions</a></li><li class="chapter-item expanded "><a href="functions.html" class="active">Functions</a></li><li class="chapter-item expanded "><a href="more.html">Learn More</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/projectfluent/fluent/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/projectfluent/fluent/edit/master/guide/functions.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="functions-in-ftl"><a class="header" href="#functions-in-ftl">Functions in FTL</a></h1>
<p>Functions provide additional functionality available to the localizers. They
can be either used to format data according to the current language's rules or
can provide additional data that the localizer may use (like, the platform, or
time of the day) to fine tune the translation.</p>
<p>FTL implementations should ship with a number of built-in functions that can be
used from within localization messages.</p>
<p>The list of available functions is extensible and environments may want to
introduce additional functions, designed to aid localizers writing translations
targeted for such environments.</p>
<h2 id="using-functions"><a class="header" href="#using-functions">Using Functions</a></h2>
<p>FTL Functions can only be called inside of placeables. Use them to return
a value to be interpolated in the message or as selectors in select
expressions.</p>
<p>Example:</p>
<pre><code>today-is = Today is { DATETIME($date) }
</code></pre>
<h2 id="function-parameters"><a class="header" href="#function-parameters">Function parameters</a></h2>
<p>Functions may accept positional and named arguments. Some named arguments
are only available to developers when they pre-format variables passed as
arguments to translations (see <a href="#partially-formatted-variables">Partially-formatted
variables</a> below).</p>
<h2 id="built-in-functions"><a class="header" href="#built-in-functions">Built-in Functions</a></h2>
<p>Built-in functions are very generic and should be applicable to any translation
environment.</p>
<h3 id="number"><a class="header" href="#number"><code>NUMBER</code></a></h3>
<p>Formats a number to a string in a given locale.</p>
<p>Example:</p>
<pre><code>dpi-ratio = Your DPI ratio is { NUMBER($ratio, minimumFractionDigits: 2) }
</code></pre>
<p>Parameters:</p>
<pre><code>currencyDisplay
useGrouping
minimumIntegerDigits
minimumFractionDigits
maximumFractionDigits
minimumSignificantDigits
maximumSignificantDigits
</code></pre>
<p>Developer parameters:</p>
<pre><code>style
currency
</code></pre>
<p>See the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat">Intl.NumberFormat</a>
for the description of the parameters.</p>
<h3 id="datetime"><a class="header" href="#datetime"><code>DATETIME</code></a></h3>
<p>Formats a date to a string in a given locale.</p>
<p>Example:</p>
<pre><code>today-is = Today is { DATETIME($date, month: &quot;long&quot;, year: &quot;numeric&quot;, day: &quot;numeric&quot;) }
</code></pre>
<p>Parameters:</p>
<pre><code>hour12
weekday
era
year
month
day
hour
minute
second
timeZoneName
</code></pre>
<p>Developer parameters:</p>
<pre><code>timeZone
</code></pre>
<p>See the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat">Intl.DateTimeFormat</a> for the description of the parameters.</p>
<h2 id="implicit-use"><a class="header" href="#implicit-use">Implicit use</a></h2>
<p>In order to simplify most common scenarios, FTL will run some default functions
while resolving placeables.</p>
<h3 id="number-1"><a class="header" href="#number-1"><code>NUMBER</code></a></h3>
<p>If the variable passed from the developer is a number and is used in
a placeable, FTL will implicitly call a NUMBER function on it.</p>
<p>Example:</p>
<pre><code>emails = Number of unread emails { $unreadEmails }

emails2 = Number of unread emails { NUMBER($unreadEmails) }
</code></pre>
<p>Numbers used as selectors in select expressions will match the number exactly
or they will match the current language's <a href="http://www.unicode.org/cldr/charts/30/supplemental/language_plural_rules.html">CLDR plural
category</a>
for the number.</p>
<p>The following examples are equivalent and will both work. The second example
may be used to pass additional formatting options to the <code>NUMBER</code> formatter for
the purpose of choosing the correct plural category:</p>
<pre><code>liked-count = { $num -&gt;
        [0]     No likes yet.
        [one]   One person liked your message
       *[other] { $num } people liked your message
    }

liked-count2 = { NUMBER($num) -&gt;
        [0]     No likes yet.
        [one]   One person liked your message
       *[other] { $num } people liked your message
    }
</code></pre>
<h3 id="datetime-1"><a class="header" href="#datetime-1"><code>DATETIME</code></a></h3>
<p>If the variable passed from the developer is a date and is used in a placeable,
FTL will implicitly call a <code>DATETIME</code> function on it.</p>
<p>Example:</p>
<pre><code>log-time = Entry time: { $date }

log-time2 = Entry time: { DATETIME($date) }
</code></pre>
<h2 id="partially-formatted-variables"><a class="header" href="#partially-formatted-variables">Partially-formatted variables</a></h2>
<p>In most cases localizers don't need to call Functions explicitly, thanks to the
implicit formatting. If the implicit formatting is not sufficient, the Function
can be called explicitly with additional parameters.  To ease the burden this
might have on localizers, Fluent implementations may allow developers to set
the default formatting parameters for the variables they pass.</p>
<p>In other words, developers can provide variables which are already wrapped in
a partial Function call.</p>
<pre><code>today = Today is { $day }
</code></pre>
<pre><code class="language-javascript">ctx.format('today', {
  day: new FluentDateTime(new Date(), {
    weekday: 'long'
  })
})
</code></pre>
<p>If the localizer wishes to modify the parameters, for example because the
string doesn't fit in the UI, they can pass the variable to the same
Function and overload the parameters set by the developer.</p>
<pre><code>today = Today is { DATETIME($day, weekday: &quot;short&quot;) }
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="builtins.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="more.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="builtins.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="more.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
